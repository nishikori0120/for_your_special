<%= render 'shared/second_header' %>

<div class="send_address" >
  <div class="container">
    <p class="title">配送先の選択</p>
    <div class="new_address" id="new_address">
      <span class="add_address"  id="add_address">
        【違う配送先を指定】
      <svg width="18" height="13" fill="cadetblue" fill-rule="evenodd" viewBox="0 0 24 24" aria-hidden="true"><path d="M17.51,11.3H12.7v-5a.7.7,0,0,0-1.4,0v5h-5a.7.7,0,0,0,0,1.4h5v4.81a.7.7,0,0,0,1.4,0V12.7h4.81a.7.7,0,0,0,0-1.4Z"></path><path d="M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18.6A8.6,8.6,0,1,1,20.6,12,8.61,8.61,0,0,1,12,20.6Z"></path></svg></span>
    </div>
    <div class="select_address" id="select_address">
      <p class="sub_title">選択中の配送先</p>
      <div class="address_list">
        <ul>
          <li class="name"><%= @address.first_name %><%= @address.last_name %><br /></li>
          <li class="postcode">〒<%= @address.postcode %><br /></li>
          <li class="address"><%= @address.prefecture_name %><%= @address.city%><%= @address.street %><br /></li>
          <li><%= @address.building %></li>
        </ul>
      </div>
    </div>

    <div class="address_form hidden" id="address_form" >
      <%= form_with model: @new_address, url: order_add_address_path, id: "form", local: true do |f| %>

      <div class="field">
        <%= f.label :お名前 %><br />
        <%= f.text_field :first_name, placeholder:"例）伊藤" %>
        <%= f.text_field :last_name,  placeholder:"例）健太郎" %>
      </div>

      <div class="field">
        <%= f.label :お名前カナ %><br />
        <%= f.text_field :first_name_kana, placeholder:"例）イトウ" %>
        <%= f.text_field :last_name_kana, placeholder:"例）ケンタロウ" %>
      </div>

      <div class="field">
        <%= f.label :電話番号 %><i>（ハイフン不要）</i><br />
        <%= f.text_field :tel %>
      </div>

      <div class="field">
        <%= f.label :postcode, '郵便番号' %><br />
        <%= f.text_field :postcode, autocomplete:'postcode', id:'user_postcode' %>
      </div>

      <div class="field">
        <%= f.label :prefecture, "都道府県" %><br />
        <%= f.collection_select(:prefecture, JpPrefecture::Prefecture.all, :name, :name, { prompt: '選択してください' }, id:'user_prefecture_code') %>
      </div>

      <div class="field">
        <%= f.label :city, '市区町村' %><br />
        <%= f.text_field :city, autocomplete: 'address_city', id:'user_address_city' %>
      </div>

      <div class="field">
        <%= f.label :street, '番地' %><br />
        <%= f.text_field :street, autocomplete: 'address_street', id:'user_address_street' %>
      </div>

      <div class="field">
        <%= f.label :building, '建物名・号室' %><br />
        <%= f.text_field :building, autocomplete: 'address_building', id:'user_address_building' %>
      </div>

      <div class="actions">
        <%= f.submit 'こちらの配送先に送る', id: "submit" %>
      </div>
      <% end %>
    </div>

    <div class="btn next" id="next">
      <%= link_to '次へ進む', order_comfimation_path %>
    </div>
  </div>
</div>